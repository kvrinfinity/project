<!DOCTYPE html>
<html>
<head>
  <title>Dashboard - KVR Infinity</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='homepage.css') }}">
</head>
<body>

   <nav class="navbar">
    <h1>KVR Infinity</h1>
    <div class="nav-links">
      <a href="{{ url_for('home') }}">Home</a>
      <a href="{{ url_for('courses') }}">Courses</a>
      <a href="#">About Us</a>
       <a href="#">Blog</a>
      
    </div>
    </nav>
    <a href="{{ url_for('user_dashboard') }}">
    <div class="profile">
      <div class="user-icon">
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
        <circle cx="20" cy="20" r="20" fill="#222"/>
        <circle cx="20" cy="15" r="7" fill="#fff"/>
        <ellipse cx="20" cy="29" rx="12" ry="7" fill="#fff"/>
      </svg>
    </div>
  </div></a>
</nav>
</section>
<h2>Take a <span style="color: red;">Fitness TestğŸ’ª</span></h2>

<div class="slider-wrapper">
  <button class="slider-btn left" onclick="scrollFitness(-1)">&#8249;</button>

  <div class="slider" id="fitnessSlider">
    {% for test in fitness_tests %}
    <div class="course-card">
      <div class="course-front">
        <img src="{{ test.image_url }}" alt="{{ test.test_name }}" />
        <span>Test</span>
        <h3>{{ test.test_name }}</h3>
        <p>ğŸ§  {{ test.questions | length }} Questions</p>
      </div>
      <div class="course-details-hover">
        <h3>{{ test.test_name }}</h3>
        <a href="{{ url_for('take_fitness_test', test_id=test._id|string) }}">
          <button>Take Test</button>
        </a>
      </div>
    </div>
    {% endfor %}
  </div>

  <button class="slider-btn right" onclick="scrollFitness(1)">&#8250;</button>
</div>
<h2>Explore top <span style="color: red;">coursesğŸ“</span></h2>

<div class="slider-wrapper">
  <button class="slider-btn left">&#8249;</button>

  <div class="slider" id="courseSlider">
    {% for course in top_courses %}
<div class="course-card">
  <div class="course-front">
    <img src="{{ course.image_url }}" alt="{{ course.course_name }}">
    <span>All levels</span>
    <h3>{{ course.course_name }}</h3>
    <p>ğŸ‘¨â€ğŸ“ {{ course.get('enrollment_count', 0) }} Students &nbsp;&nbsp; ğŸ“˜ {{ course.chapters_count }} Chapters</p>


  
  </div>
  <div class="course-details-hover">
    <h3>{{ course.course_name }}</h3>
    <a href="{{ url_for('course_detail', course_id=course._id) }}" class="action-btn">
      <button>View Details</button>
    </a>

  </div>
</div>
  {% endfor %}
  </div>
    <button class="slider-btn right">&#8250;</button>
</div>

<div class="slider-wrapper">
  <h2>ğŸ“¦ Build Your Career with Bundles</h2>
  <button class="slider-btn left">&#8249;</button>

  <div class="slider" id="bundleSlider">
    {% for bundle in bundles %}
    <div class="course-card">
      <div class="course-front">
        <img src="{{ bundle.image_url }}" alt="{{ bundle.bundle_name }}" width="200" />
        <span>Bundle</span>
        <h3>{{ bundle.bundle_name }}</h3>
        <p>ğŸ“˜ {{ bundle.course_ids|length }} Courses</p>
      </div>
      <div class="course-details-hover">
        <h3>{{ bundle.bundle_name }}</h3>
<a href="{{ url_for('bundle_detail', bundle_id=bundle._id|string) }}"><button>View Bundle</button></a>

         
        </a>
      </div>
    </div>
    {% endfor %}
  </div>

  <button class="slider-btn right">&#8250;</button>
</div>




<script>
  const slider = document.getElementById('courseSlider');
  const btnLeft = document.querySelector('.slider-btn.left');
  const btnRight = document.querySelector('.slider-btn.right');

  btnLeft.addEventListener('click', () => {
    slider.scrollBy({ left: -300, behavior: 'smooth' });
  });

  btnRight.addEventListener('click', () => {
    slider.scrollBy({ left: 300, behavior: 'smooth' });
  });
</script>

<script>
  const counters = document.querySelectorAll('.counter');

  counters.forEach(counter => {
    const updateCount = () => {
      const target = +counter.getAttribute('data-target');
      const current = +counter.innerText;

      // Speed: Higher = slower count
      const increment = target / 60;

      if (current < target) {
        counter.innerText = Math.ceil(current + increment);
        setTimeout(updateCount, 10);
      } else {
        counter.innerText = target + "+"; // Add + after completion
      }
    };

    updateCount();
  });
</script>
</body>
</html>